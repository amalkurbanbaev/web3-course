import{$ as V,a0 as Q,a1 as G,a2 as Y,a3 as X,a4 as $,a5 as Z,a6 as H,B as ee,a7 as W,a8 as b,a9 as te,aa as ne,ab as re,ac as oe,ad as ae,ae as se,af as ie,ag as P,D as ce,ah as ue,x as de,y as fe,ai as le,I as me,u as B,v as K,J as we,K as he,z as pe,r as f,j as R,aj as ge,Y as ve,ak as ye,al as Se,_ as Ee}from"./index-BwZLMKpZ.js";import{a as Ne,u as Ce}from"./button-CBoGhXrv.js";import{M as Te,S as be,A as Ae,a as F,T as Me}from"./tokens-4usJcAD4.js";function Oe({chain:e,currentChainId:t}){if(!e)throw new V;if(t!==e.id)throw new Q({chain:e,currentChainId:t})}function Pe(e,{docsPath:t,...n}){const r=(()=>{const o=G(e,n);return o instanceof Y?e:o})();return new X(r,{docsPath:t,...n})}const x=new oe(128);async function xe(e,t){var I,_,z,j;const{account:n=e.account,chain:r=e.chain,accessList:o,authorizationList:s,blobs:a,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:m,maxFeePerGas:d,maxPriorityFeePerGas:w,nonce:p,type:v,value:g,...h}=t;if(typeof n>"u")throw new $({docsPath:"/docs/actions/wallet/sendTransaction"});const l=n?W(n):null;try{Z(t);const y=await(async()=>{if(t.to)return t.to;if(t.to!==null&&s&&s.length>0)return await H({authorization:s[0]}).catch(()=>{throw new ee("`to` is required. Could not infer from `authorizationList`.")})})();if((l==null?void 0:l.type)==="json-rpc"||l===null){let N;r!==null&&(N=await b(e,te,"getChainId")({}),Oe({currentChainId:N,chain:r}));const C=(z=(_=(I=e.chain)==null?void 0:I.formatters)==null?void 0:_.transactionRequest)==null?void 0:z.format,q=(C||ne)({...re(h,{format:C}),accessList:o,authorizationList:s,blobs:a,chainId:N,data:i,from:l==null?void 0:l.address,gas:c,gasPrice:u,maxFeePerBlobGas:m,maxFeePerGas:d,maxPriorityFeePerGas:w,nonce:p,to:y,type:v,value:g}),D=x.get(e.uid),J=D?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:J,params:[q]},{retryCount:0})}catch(L){if(D===!1)throw L;const S=L;if(S.name==="InvalidInputRpcError"||S.name==="InvalidParamsRpcError"||S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[q]},{retryCount:0}).then(M=>(x.set(e.uid,!0),M)).catch(M=>{const O=M;throw O.name==="MethodNotFoundRpcError"||O.name==="MethodNotSupportedRpcError"?(x.set(e.uid,!1),S):O});throw S}}if((l==null?void 0:l.type)==="local"){const N=await b(e,ae,"prepareTransactionRequest")({account:l,accessList:o,authorizationList:s,blobs:a,chain:r,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:m,maxFeePerGas:d,maxPriorityFeePerGas:w,nonce:p,nonceManager:l.nonceManager,parameters:[...se,"sidecars"],type:v,value:g,...h,to:y}),C=(j=r==null?void 0:r.serializers)==null?void 0:j.transaction,k=await l.signTransaction(N,{serializer:C});return await b(e,ie,"sendRawTransaction")({serializedTransaction:k})}throw(l==null?void 0:l.type)==="smart"?new P({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new P({docsPath:"/docs/actions/wallet/sendTransaction",type:l==null?void 0:l.type})}catch(y){throw y instanceof P?y:Pe(y,{...t,account:l,chain:t.chain||void 0})}}async function Re(e,t){const{abi:n,account:r=e.account,address:o,args:s,dataSuffix:a,functionName:i,...c}=t;if(typeof r>"u")throw new $({docsPath:"/docs/contract/writeContract"});const u=r?W(r):null,m=ce({abi:n,args:s,functionName:i});try{return await b(e,xe,"sendTransaction")({data:`${m}${a?a.replace("0x",""):""}`,to:o,account:u,...c})}catch(d){throw ue(d,{abi:n,address:o,args:s,docsPath:"/docs/contract/writeContract",functionName:i,sender:u==null?void 0:u.address})}}async function Ie(e,t){const{account:n,chainId:r,connector:o,...s}=t;let a;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?a=e.getClient({chainId:r}):a=await de(e,{account:n??void 0,chainId:r,connector:o}),await fe(a,Re,"writeContract")({...s,...n?{account:n}:{},chain:r?{id:r}:null})}function _e(e,t={}){return{async queryFn({queryKey:n}){const r=t.abi;if(!r)throw new Error("abi is required");const{functionName:o,scopeKey:s,...a}=n[1],i=(()=>{const c=n[1];if(c.address)return{address:c.address};if(c.code)return{code:c.code};throw new Error("address or code is required")})();if(!o)throw new Error("functionName is required");return le(e,{abi:r,functionName:o,args:a.args,...i,...a})},queryKey:ze(t)}}function ze(e={}){const{abi:t,...n}=e;return["readContract",me(n)]}function je(e){return{mutationFn(t){return Ie(e,t)},mutationKey:["writeContract"]}}function tt(e={}){const{abi:t,address:n,functionName:r,query:o={}}=e,s=e.code,a=B(e),i=K({config:a}),c=_e(a,{...e,chainId:e.chainId??i}),u=!!((n||s)&&t&&r&&(o.enabled??!0));return we({...o,...c,enabled:u,structuralSharing:o.structuralSharing??he})}function nt(e={}){const{mutation:t}=e,n=B(e),r=je(n),{mutate:o,mutateAsync:s,...a}=pe({...t,...r});return{...a,writeContract:o,writeContractAsync:s}}function rt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function ot(e,t){const n=f.createContext(t),r=s=>{const{children:a,...i}=s,c=f.useMemo(()=>i,Object.values(i));return R.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function o(s){const a=f.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function at(e,t=[]){let n=[];function r(s,a){const i=f.createContext(a),c=n.length;n=[...n,a];const u=d=>{var l;const{scope:w,children:p,...v}=d,g=((l=w==null?void 0:w[e])==null?void 0:l[c])||i,h=f.useMemo(()=>v,Object.values(v));return R.jsx(g.Provider,{value:h,children:p})};u.displayName=s+"Provider";function m(d,w){var g;const p=((g=w==null?void 0:w[e])==null?void 0:g[c])||i,v=f.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,m]}const o=()=>{const s=n.map(a=>f.createContext(a));return function(i){const c=(i==null?void 0:i[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return o.scopeName=e,[r,ke(o,...t)]}function ke(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=r.reduce((i,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...i,...d}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var A=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},qe=ge[" useInsertionEffect ".trim().toString()]||A;function st({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,s,a]=De({defaultProp:t,onChange:n}),i=e!==void 0,c=i?e:o;{const m=f.useRef(e!==void 0);f.useEffect(()=>{const d=m.current;d!==i&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=i},[i,r])}const u=f.useCallback(m=>{var d;if(i){const w=Le(m)?m(e):m;w!==e&&((d=a.current)==null||d.call(a,w))}else s(m)},[i,e,s,a]);return[c,u]}function De({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),o=f.useRef(n),s=f.useRef(t);return qe(()=>{s.current=t},[t]),f.useEffect(()=>{var a;o.current!==n&&((a=s.current)==null||a.call(s,n),o.current=n)},[n,o]),[n,r,s]}function Le(e){return typeof e=="function"}var Fe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=Fe.reduce((e,t)=>{const n=Ne(`Primitive.${t}`),r=f.forwardRef((o,s)=>{const{asChild:a,...i}=o,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),R.jsx(c,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ct(e,t){e&&ve.flushSync(()=>e.dispatchEvent(t))}function Ue(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var $e=e=>{const{present:t,children:n}=e,r=We(t),o=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=Ce(r.ref,Be(o));return typeof n=="function"||r.isPresent?f.cloneElement(o,{ref:s}):null};$e.displayName="Presence";function We(e){const[t,n]=f.useState(),r=f.useRef(null),o=f.useRef(e),s=f.useRef("none"),a=e?"mounted":"unmounted",[i,c]=Ue(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=T(r.current);s.current=i==="mounted"?u:"none"},[i]),A(()=>{const u=r.current,m=o.current;if(m!==e){const w=s.current,p=T(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(m&&w!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),A(()=>{if(t){let u;const m=t.ownerDocument.defaultView??window,d=p=>{const g=T(r.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!o.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",u=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},w=p=>{p.target===t&&(s.current=T(r.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{m.clearTimeout(u),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:f.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function T(e){return(e==null?void 0:e.animationName)||"none"}function Be(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ut(e){const[t,n]=f.useState(void 0);return A(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let a,i;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,i=u.blockSize}else a=e.offsetWidth,i=e.offsetHeight;n({width:a,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var E={},U;function Ke(){if(U)return E;U=1;var e=E&&E.__assign||function(){return e=Object.assign||function(r){for(var o,s=1,a=arguments.length;s<a;s++){o=arguments[s];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])}return r},e.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var t=ye();function n(r,o,s){var a=(0,t.useMemo)(function(){return e({serializer:JSON.stringify,parser:JSON.parse,logger:console.log,syncData:!0},s)},[s]),i=a.serializer,c=a.parser,u=a.logger,m=a.syncData,d=(0,t.useRef)(null),w=(0,t.useState)(function(){if(typeof window>"u")return o;try{d.current=window.localStorage.getItem(r);var g=d.current?c(d.current):o;return g}catch(h){return u(h),o}}),p=w[0],v=w[1];return(0,t.useEffect)(function(){if(!(typeof window>"u")){var g=function(){if(p!==void 0){var h=i(p),l=d.current;d.current=h,window.localStorage.setItem(r,h),window.dispatchEvent(new StorageEvent("storage",{storageArea:window.localStorage,url:window.location.href,key:r,newValue:h,oldValue:l}))}else window.localStorage.removeItem(r),window.dispatchEvent(new StorageEvent("storage",{storageArea:window.localStorage,url:window.location.href,key:r}))};try{g()}catch(h){u(h)}}},[p]),(0,t.useEffect)(function(){if(m){var g=function(h){if(!(h.key!==r||h.storageArea!==window.localStorage))try{h.newValue!==d.current&&(d.current=h.newValue,v(h.newValue?c(h.newValue):void 0))}catch(l){u(l)}};if(!(typeof window>"u"))return window.addEventListener("storage",g),function(){return window.removeEventListener("storage",g)}}},[r,m]),[p,v]}return E.default=n,E}var Je=Ke();const Ve=Se(Je),Qe=e=>e?JSON.stringify(Object.fromEntries(Object.entries(e).map(([t,n])=>[t,[...n.entries()]]))):"",Ge=e=>Object.fromEntries(Object.entries(JSON.parse(e)).map(([t,n])=>[t,new Map(n)])),Ye={serializer:Qe,parser:Ge};function Xe(){const e=K(),[t,n]=Ve("tokens",Object.fromEntries([Te,be,Ae].map(s=>[s,new Map])),Ye),r=({address:s,...a})=>n(i=>{if(!i)return;const c=i[e],u=new Map(c);return u.set(s,a),{...i,[e]:u}}),o=s=>{n(a=>{if(!a)return;const i=a[e];if(!i.has(s))return a;const c=new Map(i);return c.delete(s),{...a,[e]:c}})};return[t[e],r,o]}function dt(e){const[t,n]=f.useState(F),[r,o,s]=Xe(),a=Me[e],i=new Map([...Array.from(a.entries()),...Array.from(r.entries())].map(([u,m])=>[Ee(u),m]));return{localTokens:r,basicTokens:a,allTokens:i,addToken:o,removeToken:u=>{t.address===u&&n(F),s(u)}}}export{it as P,$e as a,st as b,at as c,rt as d,ut as e,nt as f,dt as g,A as h,Ve as i,ct as j,ot as k,xe as s,tt as u};
